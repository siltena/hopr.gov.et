AUI().ready("anim","event-mouseenter","event-outside","transition","liferay-hudcrumbs","liferay-navigation-interaction","liferay-sign-in-modal",function(s){var i=s.Lang;var w=s.getBody();var l=s.getWin();var c=s.one("#navigation");if(c){c.plug(Liferay.NavigationInteraction)}var j=s.one("#breadcrumbs");if(j){j.plug(s.Hudcrumbs)}var r=s.one("#sign-in");if(r&&r.getData("redirect")!=="true"){r.plug(Liferay.SignInModal)}var g=s.one(".hamburger-icon");if(g){g.on("click",function(){var y=g.one(".icon-align-justify");y.toggleClass("icon-chevron-left");w.toggleClass("opened");g.toggleClass("open")})}var o=s.one(".portlet-dockbar");if(o){var q=s.one("a.user-avatar-link");var m=s.one(".portlet-dockbar .dockbar");if(q){q.on("mouseenter",function(){w.removeClass("over");closingDockbar=m.once("clickoutside",function(){w.addClass("over")})})}}var x=function(z){var y=z.wheelDelta>0?"scroll-up":"scroll-down";var A=(l.get("docScrollY"));if(A>100){if(z.wheelDelta>3){if(w.hasClass("scroll-down")){w.removeClass("scroll-down");w.removeClass("scroll-down-heavy")}w.addClass("scroll-up-heavy")}else{if(z.wheelDelta>0){if(w.hasClass("scroll-down")){w.removeClass("scroll-down");w.removeClass("scroll-down-heavy")}w.addClass("scroll-up")}else{if(z.wheelDelta<-3){if(w.hasClass("scroll-up")){w.removeClass("scroll-up");w.removeClass("scroll-up-heavy")}w.addClass("scroll-down-heavy")}else{if(w.hasClass("scroll-up")){w.removeClass("scroll-up");w.removeClass("scroll-up-heavy")}w.addClass("scroll-down")}}}}};var h=s.all(".fullHeight");var f=function(){var y=l.get("innerHeight");var z=w.getStyle("margin-top");if(i.isUndefined(y)){y=document.documentElement.clientHeight}h.each(function(A){A.setStyle("minHeight",(y-i.toInt(z)));A.addClass("done")})};var k=s.all(".fullCenter");var t=function(){k.each(function(D){var C=D.ancestor("div");if(D.hasClass("fullWinCenter")){var z=l.get("innerHeight");if(i.isUndefined(z)){z=document.documentElement.clientHeight}var A=z}else{var A=C.height()}var B=C.width();var E=D.height();var y=D.width();D.setStyle("top",(A/2)-(E/2)+"px");D.setStyle("left",(B/2)-(y/2)+"px")})};if(!h.isEmpty()){s.on("windowresize",f);s.on("windowresize",t);f();t()}creationIndex=true;portletsIndex=s.one(".portletsIndex ul");var d=s.all("#column-1>div>.portlet-boundary");var p=d.size();var u=s.one(".lateral-portlets-index");var e=function(){var z=s.one(".portlets-auto-height");if(z){var y=l.get("innerHeight");var A=w.getStyle("margin-top");if(i.isUndefined(y)){y=document.documentElement.clientHeight}}d.each(function(E,D){var C=E;if(z){E.setStyle("minHeight",(y-i.toInt(A)))}var G=C.one(".portlet-title-text");if(!G){var G=C.one(".portlet-title-default");if(G){var F=G.text()}else{var F="Add .portlet-title-text in your portlet"}}else{var F=G.text()}if(creationIndex){var B=(100/p);E.prepend('<span id="portletIndexID'+D+'"></span>');portletsIndex.append('<li style="width:'+B+'%"><a href="#portletIndexID'+D+'" class="scroll-animate portletIndex'+D+'">'+F+"</a></li>")}})};var n=function(){var y=(l.get("docScrollY"));d.each(function(B,A){var E=(B.height());var D=w.getStyle("margin-top");var z=(i.toInt(D)+20);var F=(B.getY());if(y>(F-z)&&y<(F+E)){var C="portletIndex"+A;s.all(".portletsIndex li").removeClass("aactive");s.one(".portletsIndex ."+C+"").ancestor().addClass("aactive")}})};if(p>=2&&u){w.addClass("lateral-portlets-index-ready");s.on("windowresize",e);e();creationIndex=false;s.on("scroll",n);n()}w.addClass("loaded");s.all(".scroll-animate").on("click",function(B){var y=this;var C=w.getStyle("margin-top");var A=B.currentTarget;var D=s.one(A.get("hash"));if(D){var z=(i.toInt(D.getY())-i.toInt(C));B.preventDefault();new s.Anim({duration:0.3,easing:"easeBoth",node:"win",to:{scroll:[0,z]}}).run()}});var v=s.one(".magic-mouse-scroll");if(v){s.on("mousewheel",x)}var b=s.one(".open-search");var a=s.one(".right-icon-group");if(b){b.on("click",function(){if(!w.hasClass("opened-search")){var z=a.once("clickoutside",function(){w.removeClass("opened-search")})}else{z.detach()}w.toggleClass("opened-search");var y=s.one('.portlet-search input[type="text"]');y.focus()})}});